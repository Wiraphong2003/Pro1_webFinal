<app-head-admin></app-head-admin>
<div class="container">
  <div class="row">
    <button mat-raised-button color="primary" style="width: 100px;font-family: 'K2D', sans-serif;margin-bottom: 20px;"
      (click)="backmain()">กลับ</button>
  </div>

  <mat-accordion>
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false"
      *ngFor="let order of listOrder; let i  = index">
      <mat-expansion-panel-header style="background-color: rgb(240, 227, 211);">
        <mat-panel-title style="max-width: 50px;">
          {{order.oid}}
        </mat-panel-title>
        <mat-panel-description>
          <!-- Currently I am {{panelOpenState ? 'open' : 'closed'}} -->
          <div class="row" style="width: 100%;">
            <div class="col-6">
              {{order.cname}}
            </div>
            <div class="col-2">
              {{order.totalPrice+" $"}}
            </div>
            <div class="col-2">
              {{order.status}}
            </div>
            <div class="col-2">
              {{order.time}}
            </div>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="row" style="margin-top: 20px;">
        <div class="col-3">
          <p>Address:{{" "+order.address}}</p>
        </div>
        <div class="col-3">
          <p>Phone: {{order.cphone}}</p>
        </div>
      </div>
      <div class="row" *ngFor="let food of Food; let i  = index">
        <div class="col-4">
          {{order.oid == food.oid ? food.name+" x "+food.amount :""}}
        </div>
        <div class="col-8" style="justify-content: end;display: flex;">
          {{order.oid == food.oid ? food.price*food.amount +" $":""}}
        </div>
      </div>
      <div class="row">
        <p style="justify-content: end;display: flex;">{{"ราคาสุท ธิ: "+order.totalPrice+" $"}}</p>
      </div>
        <section>
          <div class="example-button-row" style="justify-content: end; display: flex;">
            <button mat-raised-button color="primary" (click)="confirm(order.oid)">จัดส่ง</button>
          </div>
        </section>

      <!-- <div class="row" *ngIf="panelOpenState; ">
          <p *ngFor="let food of spilt(order.cartSTR); let i  = index">
            {{getdetailFood(food)}}
          </p>
        </div> -->
      <!-- <div class="row" *ngIf="panelOpenState;">

        </div> -->

    </mat-expansion-panel>
  </mat-accordion>
</div>
